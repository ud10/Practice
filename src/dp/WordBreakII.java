package dp;
import java.util.*;
public class WordBreakII {
	/*
	 * Given a string s and a dictionary of words dict, add spaces in s to construct a sentence 
	 * where each word is a valid dictionary word. Return all such possible sentences.
	 */
	/*
	 * a a b b b a b a a a b b b a b a a b a a b aa b b b a b a a a b b b a b a a b a a b a a bb b a b a a a b b b a b a a b a a b aa bb b a b a a a b b b a b a a b a a b a a b bb a b a a a b b b a b a a b a a b aa b bb a b a a a b b b a b a a b a a b a abbb a b a a a b b b a b a a b a a b a a b b b a b aa a b b b a b a a b a a b aa b b b a b aa a b b b a b a a b a a b a a bb b a b aa a b b b a b a a b a a b aa bb b a b aa a b b b a b a a b a a b a a b bb a b aa a b b b a b a a b a a b aa b bb a b aa a b b b a b a a b a a b a abbb a b aa a b b b a b a a b a a b a a bbbabaa a b b b a b a a b a a b aa bbbabaa a b b b a b a a b a a b a a b b b a b a aa b b b a b a a b a a b aa b b b a b a aa b b b a b a a b a a b a a bb b a b a aa b b b a b a a b a a b aa bb b a b a aa b b b a b a a b a a b a a b bb a b a aa b b b a b a a b a a b aa b bb a b a aa b b b a b a a b a a b a abbb a b a aa b b b a b a a b a a b a a b b b a b a a a bb b a b a a b a a b aa b b b a b a a a bb b a b a a b a a b a a bb b a b a a a bb b a b a a b a a b aa bb b a b a a a bb b a b a a b a a b a a b bb a b a a a bb b a b a a b a a b aa b bb a b a a a bb b a b a a b a a b a abbb a b a a a bb b a b a a b a a b a a b b b a b aa a bb b a b a a b a a b aa b b b a b aa a bb b a b a a b a a b a a bb b a b aa a bb b a b a a b a a b aa bb b a b aa a bb b a b a a b a a b a a b bb a b aa a bb b a b a a b a a b aa b bb a b aa a bb b a b a a b a a b a abbb a b aa a bb b a b a a b a a b a a bbbabaa a bb b a b a a b a a b aa bbbabaa a bb b a b a a b a a b a a b b b a b a aa bb b a b a a b a a b aa b b b a b a aa bb b a b a a b a a b a a bb b a b a aa bb b a b a a b a a b aa bb b a b a aa bb b a b a a b a a b a a b bb a b a aa bb b a b a a b a a b aa b bb a b a aa bb b a b a a b a a b a abbb a b a aa bb b a b a a b a a b a a b b b a b a a a b bb a b a a b a a b aa b b b a b a a a b bb a b a a b a a b a a bb b a b a a a b bb a b a a b a a b aa bb b a b a a a b bb a b a a b a a b a a b bb a b a a a b bb a b a a b a a b aa b bb a b a a a b bb a b a a b a a b a abbb a b a a a b bb a b a a b a a b a a b b b a b aa a b bb a b a a b a a b aa b b b a b aa a b bb a b a a b a a b a a bb b a b aa a b bb a b a a b a a b aa bb b a b aa a b bb a b a a b a a b a a b bb a b aa a b bb a b a a b a a b aa b bb a b aa a b bb a b a a b a a b a abbb a b aa a b bb a b a a b a a b a a bbbabaa a b bb a b a a b a a b aa bbbabaa a b bb a b a a b a a b a a b b b a b a aa b bb a b a a b a a b aa b b b a b a aa b bb a b a a b a a b a a bb b a b a aa b bb a b a a b a a b aa bb b a b a aa b bb a b a a b a a b a a b bb a b a aa b bb a b a a b a a b aa b bb a b a aa b bb a b a a b a a b a abbb a b a aa b bb a b a a b a a b a a b b b a b a a abbb a b a a b a a b aa b b b a b a a abbb a b a a b a a b a a bb b a b a a abbb a b a a b a a b aa bb b a b a a abbb a b a a b a a b a a b bb a b a a abbb a b a a b a a b aa b bb a b a a abbb a b a a b a a b a abbb a b a a abbb a b a a b a a b a a b b b a b aa abbb a b a a b a a b aa b b b a b aa abbb a b a a b a a b a a bb b a b aa abbb a b a a b a a b aa bb b a b aa abbb a b a a b a a b a a b bb a b aa abbb a b a a b a a b aa b bb a b aa abbb a b a a b a a b a abbb a b aa abbb a b a a b a a b a a bbbabaa abbb a b a a b a a b aa bbbabaa abbb a b a a b a a b a a b b b a b a a a b b b a b aa b a a b aa b b b a b a a a b b b a b aa b a a b a a bb b a b a a a b b b a b aa b a a b aa bb b a b a a a b b b a b aa b a a b a a b bb a b a a a b b b a b aa b a a b aa b bb a b a a a b b b a b aa b a a b a abbb a b a a a b b b a b aa b a a b a a b b b a b aa a b b b a b aa b a a b aa b b b a b aa a b b b a b aa b a a b a a bb b a b aa a b b b a b aa b a a b aa bb b a b aa a b b b a b aa b a a b a a b bb a b aa a b b b a b aa b a a b aa b bb a b aa a b b b a b aa b a a b a abbb a b aa a b b b a b aa b a a b a a bbbabaa a b b b a b aa b a a b aa bbbabaa a b b b a b aa b a a b a a b b b a b a aa b b b a b aa b a a b aa b b b a b a aa b b b a b aa b a a b a a bb b a b a aa b b b a b aa b a a b aa bb b a b a aa b b b a b aa b a a b a a b bb a b a aa b b b a b aa b a a b aa b bb a b a aa b b b a b aa b a a b a abbb a b a aa b b b a b aa b a a b a a b b b a b a a a bb b a b aa b a a b aa b b b a b a a a bb b a b aa b a a b a a bb b a b a a a bb b a b aa b a a b aa bb b a b a a a bb b a b aa b a a b a a b bb a b a a a bb b a b aa b a a b aa b bb a b a a a bb b a b aa b a a b a abbb a b a a a bb b a b aa b a a b a a b b b a b aa a bb b a b aa b a a b aa b b b a b aa a bb b a b aa b a a b a a bb b a b aa a bb b a b aa b a a b aa bb b a b aa a bb b a b aa b a a b a a b bb a b aa a bb b a b aa b a a b aa b bb a b aa a bb b a b aa b a a b a abbb a b aa a bb b a b aa b a a b a a bbbabaa a bb b a b aa b a a b aa bbbabaa a bb b a b aa b a a b a a b b b a b a aa bb b a b aa b a a b aa b b b a b a aa bb b a b aa b a a b a a bb b a b a aa bb b a b aa b a a b aa bb b a b a aa bb b a b aa b a a b a a b bb a b a aa bb b a b aa b a a b aa b bb a b a aa bb b a b aa b a a b a abbb a b a aa bb b a b aa b a a b a a b b b a b a a a b bb a b aa b a a b aa b b b a b a a a b bb a b aa b a a b a a bb b a b a a a b bb a b aa b a a b aa bb b a b a a a b bb a b aa b a a b a a b bb a b a a a b bb a b aa b a a b aa b bb a b a a a b bb a b aa b a a b a abbb a b a a a b bb a b aa b a a b a a b b b a b aa a b bb a b aa b a a b aa b b b a b aa a b bb a b aa b a a b a a bb b a b aa a b bb a b aa b a a b aa bb b a b aa a b bb a b aa b a a b a a b bb a b aa a b bb a b aa b a a b aa b bb a b aa a b bb a b aa b a a b a abbb a b aa a b bb a b aa b a a b a a bbbabaa a b bb a b aa b a a b aa bbbabaa a b bb a b aa b a a b a a b b b a b a aa b bb a b aa b a a b aa b b b a b a aa b bb a b aa b a a b a a bb b a b a aa b bb a b aa b a a b aa bb b a b a aa b bb a b aa b a a b a a b bb a b a aa b bb a b aa b a a b aa b bb a b a aa b bb a b aa b a a b a abbb a b a aa b bb a b aa b a a b a a b b b a b a a abbb a b aa b a a b aa b b b a b a a abbb a b aa b a a b a a bb b a b a a abbb a b aa b a a b aa bb b a b a a abbb a b aa b a a b a a b bb a b a a abbb a b aa b a a b aa b bb a b a a abbb a b aa b a a b a abbb a b a a abbb a b aa b a a b a a b b b a b aa abbb a b aa b a a b aa b b b a b aa abbb a b aa b a a b a a bb b a b aa abbb a b aa b a a b aa bb b a b aa abbb a b aa b a a b a a b bb a b aa abbb a b aa b a a b aa b bb a b aa abbb a b aa b a a b a abbb a b aa abbb a b aa b a a b a a bbbabaa abbb a b aa b a a b aa bbbabaa abbb a b aa b a a b a a b b b a b a a a bbbabaa b a a b aa b b b a b a a a bbbabaa b a a b a a bb b a b a a a bbbabaa b a a b aa bb b a b a a a bbbabaa b a a b a a b bb a b a a a bbbabaa b a a b aa b bb a b a a a bbbabaa b a a b a abbb a b a a a bbbabaa b a a b a a b b b a b aa a bbbabaa b a a b aa b b b a b aa a bbbabaa b a a b a a bb b a b aa a bbbabaa b a a b aa bb b a b aa a bbbabaa b a a b a a b bb a b aa a bbbabaa b a a b aa b bb a b aa a bbbabaa b a a b a abbb a b aa a bbbabaa b a a b a a bbbabaa a bbbabaa b a a b aa bbbabaa a bbbabaa b a a b a a b b b a b a aa bbbabaa b a a b aa b b b a b a aa bbbabaa b a a b a a bb b a b a aa bbbabaa b a a b aa bb b a b a aa bbbabaa b a a b a a b bb a b a aa bbbabaa b a a b aa b bb a b a aa bbbabaa b a a b a abbb a b a aa bbbabaa b a a b a a b b b a b a a a b b b a b a a b aa b aa b b b a b a a a b b b a b a a b aa b a a bb b a b a a a b b b a b a a b aa b aa bb b a b a a a b b b a b a a b aa b a a b bb a b a a a b b b a b a a b aa b aa b bb a b a a a b b b a b a a b aa b a abbb a b a a a b b b a b a a b aa b a a b b b a b aa a b b b a b a a b aa b aa b b b a b aa a b b b a b a a b aa b a a bb b a b aa a b b b a b a a b aa b aa bb b a b aa a b b b a b a a b aa b a a b bb a b aa a b b b a b a a b aa b aa b bb a b aa a b b b a b a a b aa b a abbb a b aa a b b b a b a a b aa b a a bbbabaa a b b b a b a a b aa b aa bbbabaa a b b b a b a a b aa b a a b b b a b a aa b b b a b a a b aa b aa b b b a b a aa b b b a b a a b aa b a a bb b a b a aa b b b a b a a b aa b aa bb b a b a aa b b b a b a a b aa b a a b bb a b a aa b b b a b a a b aa b aa b bb a b a aa b b b a b a a b aa b a abbb a b a aa b b b a b a a b aa b a a b b b a b a a a bb b a b a a b aa b aa b b b a b a a a bb b a b a a b aa b a a bb b a b a a a bb b a b a a b aa b aa bb b a b a a a bb b a b a a b aa b a a b bb a b a a a bb b a b a a b aa b aa b bb a b a a a bb b a b a a b aa b a abbb a b a a a bb b a b a a b aa b a a b b b a b aa a bb b a b a a b aa b aa b b b a b aa a bb b a b a a b aa b a a bb b a b aa a bb b a b a a b aa b aa bb b a b aa a bb b a b a a b aa b a a b bb a b aa a bb b a b a a b aa b aa b bb a b aa a bb b a b a a b aa b a abbb a b aa a bb b a b a a b aa b a a bbbabaa a bb b a b a a b aa b aa bbbabaa a bb b a b a a b aa b a a b b b a b a aa bb b a b a a b aa b aa b b b a b a aa bb b a b a a b aa b a a bb b a b a aa bb b a b a a b aa b aa bb b a b a aa bb b a b a a b aa b a a b bb a b a aa bb b a b a a b aa b aa b bb a b a aa bb b a b a a b aa b a abbb a b a aa bb b a b a a b aa b a a b b b a b a a a b bb a b a a b aa b aa b b b a b a a a b bb a b a a b aa b a a bb b a b a a a b bb a b a a b aa b aa bb b a b a a a b bb a b a a b aa b a a b bb a b a a a b bb a b a a b aa b aa b bb a b a a a b bb a b a a b aa b a abbb a b a a a b bb a b a a b aa b a a b b b a b aa a b bb a b a a b aa b aa b b b a b aa a b bb a b a a b aa b a a bb b a b aa a b bb a b a a b aa b aa bb b a b aa a b bb a b a a b aa b a a b bb a b aa a b bb a b a a b aa b aa b bb a b aa a b bb a b a a b aa b a abbb a b aa a b bb a b a a b aa b a a bbbabaa a b bb a b a a b aa b aa bbbabaa a b bb a b a a b aa b a a b b b a b a aa b bb a b a a b aa b aa b b b a b a aa b bb a b a a b aa b a a bb b a b a aa b bb a b a a b aa b aa bb b a b a aa b bb a b a a b aa b a a b bb a b a aa b bb a b a a b aa b aa b bb a b a aa b bb a b a a b aa b a abbb a b a aa b bb a b a a b aa b a a b b b a b a a abbb a b a a b aa b aa b b b a b a a abbb a b a a b aa b a a bb b a b a a abbb a b a a b aa b aa bb b a b a a abbb a b a a b aa b a a b bb a b a a abbb...
	 * a a b b b a b a a a b b b a b a a b a a b a a b b b a b a a a b b b a b a a b aa b a a b b b a b a a a b b b a b aa b a a b a a b b b a b a a a b b b a b aa b aa b a a b b b a b a a a b bb a b a a b a a b a a b b b a b a a a b bb a b a a b aa b a a b b b a b a a a b bb a b aa b a a b a a b b b a b a a a b bb a b aa b aa b a a b b b a b a a a bb b a b a a b a a b a a b b b a b a a a bb b a b a a b aa b a a b b b a b a a a bb b a b aa b a a b a a b b b a b a a a bb b a b aa b aa b a a b b b a b a a a bbbabaa b a a b a a b b b a b a a a bbbabaa b aa b a a b b b a b a a abbb a b a a b a a b a a b b b a b a a abbb a b a a b aa b a a b b b a b a a abbb a b aa b a a b a a b b b a b a a abbb a b aa b aa b a a b b b a b a aa b b b a b a a b a a b a a b b b a b a aa b b b a b a a b aa b a a b b b a b a aa b b b a b aa b a a b a a b b b a b a aa b b b a b aa b aa b a a b b b a b a aa b bb a b a a b a a b a a b b b a b a aa b bb a b a a b aa b a a b b b a b a aa b bb a b aa b a a b a a b b b a b a aa b bb a b aa b aa b a a b b b a b a aa bb b a b a a b a a b a a b b b a b a aa bb b a b a a b aa b a a b b b a b a aa bb b a b aa b a a b a a b b b a b a aa bb b a b aa b aa b a a b b b a b a aa bbbabaa b a a b a a b b b a b a aa bbbabaa b aa b a a b b b a b aa a b b b a b a a b a a b a a b b b a b aa a b b b a b a a b aa b a a b b b a b aa a b b b a b aa b a a b a a b b b a b aa a b b b a b aa b aa b a a b b b a b aa a b bb a b a a b a a b a a b b b a b aa a b bb a b a a b aa b a a b b b a b aa a b bb a b aa b a a b a a b b b a b aa a b bb a b aa b aa b a a b b b a b aa a bb b a b a a b a a b a a b b b a b aa a bb b a b a a b aa b a a b b b a b aa a bb b a b aa b a a b a a b b b a b aa a bb b a b aa b aa b a a b b b a b aa a bbbabaa b a a b a a b b b a b aa a bbbabaa b aa b a a b b b a b aa abbb a b a a b a a b a a b b b a b aa abbb a b a a b aa b a a b b b a b aa abbb a b aa b a a b a a b b b a b aa abbb a b aa b aa b a a b bb a b a a a b b b a b a a b a a b a a b bb a b a a a b b b a b a a b aa b a a b bb a b a a a b b b a b aa b a a b a a b bb a b a a a b b b a b aa b aa b a a b bb a b a a a b bb a b a a b a a b a a b bb a b a a a b bb a b a a b aa b a a b bb a b a a a b bb a b aa b a a b a a b bb a b a a a b bb a b aa b aa b a a b bb a b a a a bb b a b a a b a a b a a b bb a b a a a bb b a b a a b aa b a a b bb a b a a a bb b a b aa b a a b a a b bb a b a a a bb b a b aa b aa b a a b bb a b a a a bbbabaa b a a b a a b bb a b a a a bbbabaa b aa b a a b bb a b a a abbb a b a a b a a b a a b bb a b a a abbb a b a a b aa b a a b bb a b a a abbb a b aa b a a b a a b bb a b a a abbb a b aa b aa b a a b bb a b a aa b b b a b a a b a a b a a b bb a b a aa b b b a b a a b aa b a a b bb a b a aa b b b a b aa b a a b a a b bb a b a aa b b b a b aa b aa b a a b bb a b a aa b bb a b a a b a a b a a b bb a b a aa b bb a b a a b aa b a a b bb a b a aa b bb a b aa b a a b a a b bb a b a aa b bb a b aa b aa b a a b bb a b a aa bb b a b a a b a a b a a b bb a b a aa bb b a b a a b aa b a a b bb a b a aa bb b a b aa b a a b a a b bb a b a aa bb b a b aa b aa b a a b bb a b a aa bbbabaa b a a b a a b bb a b a aa bbbabaa b aa b a a b bb a b aa a b b b a b a a b a a b a a b bb a b aa a b b b a b a a b aa b a a b bb a b aa a b b b a b aa b a a b a a b bb a b aa a b b b a b aa b aa b a a b bb a b aa a b bb a b a a b a a b a a b bb a b aa a b bb a b a a b aa b a a b bb a b aa a b bb a b aa b a a b a a b bb a b aa a b bb a b aa b aa b a a b bb a b aa a bb b a b a a b a a b a a b bb a b aa a bb b a b a a b aa b a a b bb a b aa a bb b a b aa b a a b a a b bb a b aa a bb b a b aa b aa b a a b bb a b aa a bbbabaa b a a b a a b bb a b aa a bbbabaa b aa b a a b bb a b aa abbb a b a a b a a b a a b bb a b aa abbb a b a a b aa b a a b bb a b aa abbb a b aa b a a b a a b bb a b aa abbb a b aa b aa b a a bb b a b a a a b b b a b a a b a a b a a bb b a b a a a b b b a b a a b aa b a a bb b a b a a a b b b a b aa b a a b a a bb b a b a a a b b b a b aa b aa b a a bb b a b a a a b bb a b a a b a a b a a bb b a b a a a b bb a b a a b aa b a a bb b a b a a a b bb a b aa b a a b a a bb b a b a a a b bb a b aa b aa b a a bb b a b a a a bb b a b a a b a a b a a bb b a b a a a bb b a b a a b aa b a a bb b a b a a a bb b a b aa b a a b a a bb b a b a a a bb b a b aa b aa b a a bb b a b a a a bbbabaa b a a b a a bb b a b a a a bbbabaa b aa b a a bb b a b a a abbb a b a a b a a b a a bb b a b a a abbb a b a a b aa b a a bb b a b a a abbb a b aa b a a b a a bb b a b a a abbb a b aa b aa b a a bb b a b a aa b b b a b a a b a a b a a bb b a b a aa b b b a b a a b aa b a a bb b a b a aa b b b a b aa b a a b a a bb b a b a aa b b b a b aa b aa b a a bb b a b a aa b bb a b a a b a a b a a bb b a b a aa b bb a b a a b aa b a a bb b a b a aa b bb a b aa b a a b a a bb b a b a aa b bb a b aa b aa b a a bb b a b a aa bb b a b a a b a a b a a bb b a b a aa bb b a b a a b aa b a a bb b a b a aa bb b a b aa b a a b a a bb b a b a aa bb b a b aa b aa b a a bb b a b a aa bbbabaa b a a b a a bb b a b a aa bbbabaa b aa b a a bb b a b aa a b b b a b a a b a a b a a bb b a b aa a b b b a b a a b aa b a a bb b a b aa a b b b a b aa b a a b a a bb b a b aa a b b b a b aa b aa b a a bb b a b aa a b bb a b a a b a a b a a bb b a b aa a b bb a b a a b aa b a a bb b a b aa a b bb a b aa b a a b a a bb b a b aa a b bb a b aa b aa b a a bb b a b aa a bb b a b a a b a a b a a bb b a b aa a bb b a b a a b aa b a a bb b a b aa a bb b a b aa b a a b a a bb b a b aa a bb b a b aa b aa b a a bb b a b aa a bbbabaa b a a b a a bb b a b aa a bbbabaa b aa b a a bb b a b aa abbb a b a a b a a b a a bb b a b aa abbb a b a a b aa b a a bb b a b aa abbb a b aa b a a b a a bb b a b aa abbb a b aa b aa b a a bbbabaa a b b b a b a a b a a b a a bbbabaa a b b b a b a a b aa b a a bbbabaa a b b b a b aa b a a b a a bbbabaa a b b b a b aa b aa b a a bbbabaa a b bb a b a a b a a b a a bbbabaa a b bb a b a a b aa b a a bbbabaa a b bb a b aa b a a b a a bbbabaa a b bb a b aa b aa b a a bbbabaa a bb b a b a a b a a b a a bbbabaa a bb b a b a a b aa b a a bbbabaa a bb b a b aa b a a b a a bbbabaa a bb b a b aa b aa b a a bbbabaa a bbbabaa b a a b a a bbbabaa a bbbabaa b aa b a a bbbabaa abbb a b a a b a a b a a bbbabaa abbb a b a a b aa b a a bbbabaa abbb a b aa b a a b a a bbbabaa abbb a b aa b aa b a abbb a b a a a b b b a b a a b a a b a abbb a b a a a b b b a b a a b aa b a abbb a b a a a b b b a b aa b a a b a abbb a b a a a b b b a b aa b aa b a abbb a b a a a b bb a b a a b a a b a abbb a b a a a b bb a b a a b aa b a abbb a b a a a b bb a b aa b a a b a abbb a b a a a b bb a b aa b aa b a abbb a b a a a bb b a b a a b a a b a abbb a b a a a bb b a b a a b aa b a abbb a b a a a bb b a b aa b a a b a abbb a b a a a bb b a b aa b aa b a abbb a b a a a bbbabaa b a a b a abbb a b a a a bbbabaa b aa b a abbb a b a a abbb a b a a b a a b a abbb a b a a abbb a b a a b aa b a abbb a b a a abbb a b aa b a a b a abbb a b a a abbb a b aa b aa b a abbb a b a aa b b b a b a a b a a b a abbb a b a aa b b b a b a a b aa b a abbb a b a aa b b b a b aa b a a b a abbb a b a aa b b b a b aa b aa b a abbb a b a aa b bb a b a a b a a b a abbb a b a aa b bb a b a a b aa b a abbb a b a aa b bb a b aa b a a b a abbb a b a aa b bb a b aa b aa b a abbb a b a aa bb b a b a a b a a b a abbb a b a aa bb b a b a a b aa b a abbb a b a aa bb b a b aa b a a b a abbb a b a aa bb b a b aa b aa b a abbb a b a aa bbbabaa b a a b a abbb a b a aa bbbabaa b aa b a abbb a b aa a b b b a b a a b a a b a abbb a b aa a b b b a b a a b aa b a abbb a b aa a b b b a b aa b a a b a abbb a b aa a b b b a b aa b aa b a abbb a b aa a b bb a b a a b a a b a abbb a b aa a b bb a b a a b aa b a abbb a b aa a b bb a b aa b a a b a abbb a b aa a b bb a b aa b aa b a abbb a b aa a bb b a b a a b a a b a abbb a b aa a bb b a b a a b aa b a abbb a b aa a bb b a b aa b a a b a abbb a b aa a bb b a b aa b aa b a abbb a b aa a bbbabaa b a a b a abbb a b aa a bbbabaa b aa b a abbb a b aa abbb a b a a b a a b a abbb a b aa abbb a b a a b aa b a abbb a b aa abbb a b aa b a a b a abbb a b aa abbb a b aa b aa b aa b b b a b a a a b b b a b a a b a a b aa b b b a b a a a b b b a b a a b aa b aa b b b a b a a a b b b a b aa b a a b aa b b b a b a a a b b b a b aa b aa b aa b b b a b a a a b bb a b a a b a a b aa b b b a b a a a b bb a b a a b aa b aa b b b a b a a a b bb a b aa b a a b aa b b b a b a a a b bb a b aa b aa b aa b b b a b a a a bb b a b a a b a a b aa b b b a b a a a bb b a b a a b aa b aa b b b a b a a a bb b a b aa b a a b aa b b b a b a a a bb b a b aa b aa b aa b b b a b a a a bbbabaa b a a b aa b b b a b a a a bbbabaa b aa b aa b b b a b a a abbb a b a a b a a b aa b b b a b a a abbb a b a a b aa b aa b b b a b a a abbb a b aa b a a b aa b b b a b a a abbb a b aa b aa b aa b b b a b a aa b b b a b a a b a a b aa b b b a b a aa b b b a b a a b aa b aa b b b a b a aa b b b a b aa b a a b aa b b b a b a aa b b b a b aa b aa b aa b b b a b a aa b bb a b a a b a a b aa b b b a b a aa b bb a b a a b aa b aa b b b a b a aa b bb a b aa b a a b aa b b b a b a aa b bb a b aa b aa b aa b b b a b a aa bb b a b a a b a a b aa b b b a b a aa bb b a b a a b aa b aa b b b a b a aa bb b a b aa b a a b aa b b b a b a aa bb b a b aa b aa b aa b b b a b a aa bbbabaa b a a b aa b b b a b a aa bbbabaa b aa b aa b b b a b aa a b b b a b a a b a a b aa b b b a b aa a b b b a b a a b aa b aa b b b a b aa a b b b a b aa b a a b aa b b b a b aa a b b b a b aa b aa b aa b b b a b aa a b bb a b a a b a a b aa b b b a b aa a b bb a b a a b aa b aa b b b a b aa a b bb a b aa b a a b aa b b b a b aa a b bb a b aa b aa b aa b b b a b aa a bb b a b a a b a a b aa b b b a b aa a bb b a b a a b aa b aa b b b a b aa a bb b a b aa b a a b aa b b b a b aa a bb b a b aa b aa b aa b b b a b aa a bbbabaa b a a b aa b b b a b aa a bbbabaa b aa b aa b b b a b aa abbb a b a a b a a b aa b b b a b aa abbb a b a a b aa b aa b b b a b aa abbb a b aa b a a b aa b b b a b aa abbb a b aa b aa b aa b bb a b a...
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//TC1 - A : "aabbbabaaabbbabaabaab"
		//		B : [ "bababbbb", "bbbabaa", "abbb", "a", "aabbaab", "b", "babaabbbb", "aa", "bb" ]
		//TC2 - A : "aaabaaaaab"
		//		B : [ "aabbbaaa", "aaba", "a", "b", "a", "babbbabb", "baaaab" ]
		//		Output:a a a b a a a a a b a aaba a a a a b
		//TC3 - s = "catsanddog",
		//		dict = ["cat", "cats", "and", "sand", "dog"]
//		String s = "catsanddog";
//		String s1 = "cat";String s2 = "cats"; String s3 = "and"; String s4 = "sand"; String s5 = "dog";
		String s = "aaabaaaaab";
		String s1 = "aabbbaaa";String s2 = "aaba"; String s3 = "a"; String s4 = "b"; String s5 = "a";String s6 = "babbbabb";String s7 = "baaaab";
		ArrayList<String> dict = new ArrayList<String>();
		dict.add(s1);dict.add(s2);dict.add(s3);dict.add(s4);dict.add(s5);dict.add(s6);dict.add(s7);
		ArrayList<String> result = wordBreak(s, dict);
		for(int i=0;i<result.size();i++){
			System.out.println(result.get(i));
		}
		
	}
	public static ArrayList<String> wordBreak(String s, ArrayList<String> dict){
		int n = s.length();
		@SuppressWarnings("unchecked")
		ArrayList<String> dp[] = new ArrayList[n+1];
		dp[0] = new ArrayList<String>();
		for(int i=0;i<n;i++){
			if(dp[i] == null)
				continue;
			for(String word:dict){
				int len = word.length();
				int end = i + len;
				if(end > n)
					continue;
				if(s.substring(i, end).equals(word)){
					if(dp[end] == null)
						dp[end] = new ArrayList<String>();
					dp[end].add(word);
				}
			}
		}
		ArrayList<String> result = new ArrayList<String>();
		if(dp[n] == null)
			return result;
		ArrayList<String> temp = new ArrayList<String>();
		for(int i=0;i<dp.length;i++){
			if(dp[i] != null){
				for(int j=0;j<dp[i].size();j++){
					Collections.sort(dp[i]);
					System.out.println(dp[i].get(j));
				}
			}
			//System.out.println();
		}
		
		dfs(dp, n, temp, result);
		Collections.reverse(result);
		Collections.sort(result);
		return result;
	}
	private static void dfs(ArrayList<String>[] dp, int end, ArrayList<String> temp, ArrayList<String> result){
		if(end <= 0){
			String path = temp.get(temp.size()-1);
			for(int i = temp.size()-2; i >= 0; i--){
				path += " " + temp.get(i);
			}
			if(!result.contains(path))
				result.add(path);
			return;
		}
		for(String s: dp[end]){
			temp.add(s);
			dfs(dp, end - s.length(), temp, result);
			temp.remove(temp.size()-1);
		}
	}
}
